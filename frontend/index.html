<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jarvis Command Center - Productive Terminal</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/theme/monokai.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/xterm/4.19.0/xterm.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; background: #0a0a0a; color: #e0e0e0; }

        .glass-panel {
            background: rgba(20, 20, 30, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
        }

        .tab-button {
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.05);
        }

        .tab-button:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .tab-button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .resource-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .resource-card:hover {
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .resource-card.selected {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);
            border-color: #667eea;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
            animation: pulse 2s infinite;
        }

        .status-indicator.connected {
            background: #10b981;
        }

        .status-indicator.error {
            background: #ef4444;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .input-window {
            height: 300px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        .output-window {
            height: 400px;
            background: #000;
            border-radius: 8px;
            padding: 10px;
            overflow-y: auto;
        }

        .file-browser {
            max-height: 300px;
            overflow-y: auto;
        }

        .file-item {
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: background 0.2s;
        }

        .file-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .monitoring-bar {
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid #667eea;
            border-radius: 4px;
            padding: 8px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .settings-panel {
            position: fixed;
            right: -400px;
            top: 0;
            width: 400px;
            height: 100vh;
            background: rgba(20, 20, 30, 0.98);
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            transition: right 0.3s;
            z-index: 1000;
            padding: 20px;
            overflow-y: auto;
        }

        .settings-panel.open {
            right: 0;
        }

        .help-tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }

        .help-tooltip .tooltip-content {
            visibility: hidden;
            width: 300px;
            background-color: rgba(0, 0, 0, 0.95);
            color: #fff;
            text-align: left;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -150px;
            opacity: 0;
            transition: opacity 0.3s;
            border: 1px solid #667eea;
        }

        .help-tooltip:hover .tooltip-content {
            visibility: visible;
            opacity: 1;
        }

        .param-input {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            padding: 8px;
            color: #e0e0e0;
            width: 100%;
            margin-bottom: 10px;
        }

        .execution-status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        .execution-status.running {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
        }

        .execution-status.completed {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
        }

        .execution-status.failed {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }
    </style>
</head>
<body class="bg-gray-900">
    <!-- Main Container -->
    <div class="flex h-screen">
        <!-- Sidebar -->
        <div class="w-64 glass-panel m-2 p-4">
            <div class="mb-6">
                <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">
                    JARVIS Command Center
                </h1>
                <div class="mt-2 flex items-center">
                    <span class="status-indicator connected"></span>
                    <span class="text-xs text-gray-400" id="connection-status">Connected</span>
                </div>
            </div>

            <!-- Resource Categories -->
            <div class="space-y-2">
                <button class="tab-button active w-full text-left" data-tab="skills">
                    <span class="mr-2">‚ö°</span> Skills <span class="float-right text-xs" id="skills-count">0</span>
                </button>
                <button class="tab-button w-full text-left" data-tab="agents">
                    <span class="mr-2">ü§ñ</span> Agents <span class="float-right text-xs" id="agents-count">0</span>
                </button>
                <button class="tab-button w-full text-left" data-tab="workflows">
                    <span class="mr-2">üîÑ</span> Workflows <span class="float-right text-xs" id="workflows-count">0</span>
                </button>
                <button class="tab-button w-full text-left" data-tab="models">
                    <span class="mr-2">üß†</span> Models <span class="float-right text-xs" id="models-count">0</span>
                </button>
                <button class="tab-button w-full text-left" data-tab="scripts">
                    <span class="mr-2">üìú</span> Scripts <span class="float-right text-xs" id="scripts-count">0</span>
                </button>
            </div>

            <!-- Quick Actions -->
            <div class="mt-8 space-y-2">
                <button class="w-full p-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition" onclick="openSettings()">
                    <span class="mr-2">‚öôÔ∏è</span> Preferences
                </button>
                <button class="w-full p-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition" onclick="showHelp()">
                    <span class="mr-2">‚ùì</span> Instructions
                </button>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="flex-1 p-2">
            <!-- Resource Grid -->
            <div class="glass-panel p-4 mb-2 h-48 overflow-y-auto">
                <div id="resource-grid" class="grid grid-cols-3 gap-2">
                    <!-- Resources will be populated here -->
                </div>
            </div>

            <!-- Feature 1: Input Window with Monitoring -->
            <div class="glass-panel p-4 mb-2">
                <div class="flex justify-between items-center mb-2">
                    <h3 class="text-lg font-semibold">
                        <span class="mr-2">üìù</span> Input Window
                        <span class="help-tooltip ml-2 text-xs text-gray-400">
                            ‚ÑπÔ∏è
                            <span class="tooltip-content">
                                Enter your code or commands here. Use the parameter panel on the right to configure execution options. The monitoring bar shows real-time execution status.
                            </span>
                        </span>
                    </h3>
                    <span id="execution-status" class="execution-status">Ready</span>
                </div>

                <!-- Monitoring Bar -->
                <div class="monitoring-bar">
                    <span class="text-xs">
                        <span class="mr-1">üìä</span> Memory: <span id="memory-usage">0 MB</span>
                    </span>
                    <span class="text-xs">
                        <span class="mr-1">‚è±Ô∏è</span> Execution Time: <span id="exec-time">0ms</span>
                    </span>
                    <span class="text-xs">
                        <span class="mr-1">üîÑ</span> Status: <span id="exec-status">Idle</span>
                    </span>
                </div>

                <div class="flex gap-2">
                    <!-- Code Editor -->
                    <div class="flex-1">
                        <div id="input-editor" class="input-window"></div>
                    </div>

                    <!-- Parameter Panel -->
                    <div class="w-64 glass-panel p-3">
                        <h4 class="text-sm font-semibold mb-2">Parameters</h4>
                        <div id="param-panel">
                            <input type="text" class="param-input" placeholder="Resource Name" id="param-name">
                            <input type="text" class="param-input" placeholder="Arguments" id="param-args">
                            <select class="param-input" id="param-mode">
                                <option value="sync">Synchronous</option>
                                <option value="async">Asynchronous</option>
                                <option value="background">Background</option>
                            </select>
                            <button class="w-full mt-2 p-2 bg-green-600 hover:bg-green-700 rounded transition" onclick="executeResource()">
                                <span class="mr-1">‚ñ∂Ô∏è</span> Execute
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Feature 2: Output Window -->
            <div class="glass-panel p-4 mb-2">
                <div class="flex justify-between items-center mb-2">
                    <h3 class="text-lg font-semibold">
                        <span class="mr-2">üì§</span> Output Window
                    </h3>
                    <button class="text-xs text-gray-400 hover:text-white" onclick="clearOutput()">Clear</button>
                </div>
                <div id="output-terminal" class="output-window font-mono text-sm"></div>
            </div>

            <!-- Feature 3: File Management -->
            <div class="glass-panel p-4">
                <div class="flex gap-4">
                    <!-- File Browser -->
                    <div class="flex-1">
                        <h3 class="text-sm font-semibold mb-2">
                            <span class="mr-1">üìÅ</span> Output Files
                        </h3>
                        <div class="file-browser">
                            <div id="file-list" class="space-y-1">
                                <!-- Files will be listed here -->
                            </div>
                        </div>
                    </div>

                    <!-- Destination Path -->
                    <div class="flex-1">
                        <h3 class="text-sm font-semibold mb-2">
                            <span class="mr-1">üìç</span> Destination Path
                        </h3>
                        <input type="text" id="dest-path" class="param-input" value="/output/" placeholder="Enter destination path">
                        <div class="mt-2 text-xs text-gray-400">
                            Files will be saved to: <span id="full-path" class="text-blue-400">/output/</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Feature 5: Settings Panel (Slide-in) -->
        <div id="settings-panel" class="settings-panel">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold">Preferences</h2>
                <button onclick="closeSettings()" class="text-gray-400 hover:text-white text-2xl">√ó</button>
            </div>

            <div class="space-y-6">
                <!-- Theme Settings -->
                <div>
                    <h3 class="text-sm font-semibold mb-2">Theme</h3>
                    <select class="param-input">
                        <option>Dark Mode</option>
                        <option>Light Mode</option>
                        <option>Auto</option>
                    </select>
                </div>

                <!-- Execution Settings -->
                <div>
                    <h3 class="text-sm font-semibold mb-2">Execution</h3>
                    <label class="flex items-center mb-2">
                        <input type="checkbox" class="mr-2" checked>
                        <span class="text-sm">Auto-save outputs</span>
                    </label>
                    <label class="flex items-center mb-2">
                        <input type="checkbox" class="mr-2" checked>
                        <span class="text-sm">Show execution monitoring</span>
                    </label>
                    <label class="flex items-center mb-2">
                        <input type="checkbox" class="mr-2">
                        <span class="text-sm">Verbose logging</span>
                    </label>
                </div>

                <!-- Resource-Specific Settings -->
                <div>
                    <h3 class="text-sm font-semibold mb-2">Resource Settings</h3>
                    <div id="resource-settings" class="space-y-2">
                        <!-- Dynamic resource settings -->
                    </div>
                </div>

                <!-- API Configuration -->
                <div>
                    <h3 class="text-sm font-semibold mb-2">API Configuration</h3>
                    <input type="text" class="param-input mb-2" placeholder="API Endpoint" value="https://jarviscommandcenterclean.vercel.app/api">
                    <input type="number" class="param-input mb-2" placeholder="Timeout (ms)" value="30000">
                    <input type="number" class="param-input" placeholder="Retry attempts" value="3">
                </div>
            </div>
        </div>
    </div>

    <!-- Feature 4: Instructions Modal -->
    <div id="help-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center">
        <div class="glass-panel p-6 max-w-2xl max-h-96 overflow-y-auto m-4">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-bold">Instructions & Documentation</h2>
                <button onclick="closeHelp()" class="text-gray-400 hover:text-white text-2xl">√ó</button>
            </div>

            <div id="help-content" class="space-y-4">
                <!-- Dynamic help content based on selected resource -->
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xterm/4.19.0/xterm.min.js"></script>
    <script>
        // Embedded resources data (fallback for API failures)
        const EMBEDDED_RESOURCES = {
  "skills": [
    {
      "name": "Video Analyzer",
      "title": "Video Analyzer",
      "description": "Analyze videos from URLs, extract metadata, transcripts, and frames",
      "path": "/Volumes/AI_WORKSPACE/video_analyzer/video_analyzer.py",
      "type": "skill",
      "category": "video_analyzer"
    },
    {
      "name": "Test Analyzer",
      "title": "Test Analyzer",
      "description": "Execute test analyzer operations",
      "path": "/Volumes/AI_WORKSPACE/video_analyzer/test_analyzer.py",
      "type": "skill",
      "category": "video_analyzer"
    },
    {
      "name": "Analyze Tiktok",
      "title": "Analyze Tiktok",
      "description": "Execute analyze tiktok operations",
      "path": "/Volumes/AI_WORKSPACE/video_analyzer/analyze_tiktok.py",
      "type": "skill",
      "category": "video_analyzer"
    },
    {
      "name": "Video Analyzer Enhanced",
      "title": "Video Analyzer Enhanced",
      "description": "Execute video analyzer enhanced operations",
      "path": "/Volumes/AI_WORKSPACE/video_analyzer/video_analyzer_enhanced.py",
      "type": "skill",
      "category": "video_analyzer"
    },
    {
      "name": "Run Analysis",
      "title": "Run Analysis",
      "description": "Execute run analysis operations",
      "path": "/Volumes/AI_WORKSPACE/video_analyzer/run_analysis.py",
      "type": "skill",
      "category": "video_analyzer"
    },
    {
      "name": "Json To Markdown Skill",
      "title": "Json To Markdown Skill",
      "description": "Execute json to markdown skill operations",
      "path": "/Volumes/AI_WORKSPACE/video_analyzer/json_to_markdown_skill.py",
      "type": "skill",
      "category": "video_analyzer"
    },
    {
      "name": "Knowledge Distiller",
      "title": "Knowledge Distiller",
      "description": "Execute knowledge distiller operations",
      "path": "/Volumes/AI_WORKSPACE/video_analyzer/knowledge_distiller.py",
      "type": "skill",
      "category": "video_analyzer"
    },
    {
      "name": "Enhance Images",
      "title": "Enhance Images",
      "description": "Execute enhance images operations",
      "path": "/Volumes/AI_WORKSPACE/image_enhancer/enhance_images.py",
      "type": "skill",
      "category": "image_enhancer"
    },
    {
      "name": "Simple Enhance",
      "title": "Simple Enhance",
      "description": "Execute simple enhance operations",
      "path": "/Volumes/AI_WORKSPACE/image_enhancer/simple_enhance.py",
      "type": "skill",
      "category": "image_enhancer"
    },
    {
      "name": "Replicate Upscale Smart",
      "title": "Replicate Upscale Smart",
      "description": "Execute replicate upscale smart operations",
      "path": "/Volumes/AI_WORKSPACE/image_enhancer/replicate_upscale_smart.py",
      "type": "skill",
      "category": "image_enhancer"
    },
    {
      "name": "Replicate Upscale",
      "title": "Replicate Upscale",
      "description": "Upscale images 4x using Replicate AI models",
      "path": "/Volumes/AI_WORKSPACE/image_enhancer/replicate_upscale.py",
      "type": "skill",
      "category": "image_enhancer"
    },
    {
      "name": "Rename Images",
      "title": "Rename Images",
      "description": "Execute rename images operations",
      "path": "/Volumes/AI_WORKSPACE/image_enhancer/rename_images.py",
      "type": "skill",
      "category": "image_enhancer"
    },
    {
      "name": "Process Remaining",
      "title": "Process Remaining",
      "description": "Execute process remaining operations",
      "path": "/Volumes/AI_WORKSPACE/image_enhancer/process_remaining.py",
      "type": "skill",
      "category": "image_enhancer"
    },
    {
      "name": "Rename And Convert",
      "title": "Rename And Convert",
      "description": "Execute rename and convert operations",
      "path": "/Volumes/AI_WORKSPACE/image_enhancer/rename_and_convert.py",
      "type": "skill",
      "category": "image_enhancer"
    },
    {
      "name": "Quick Start",
      "title": "Quick Start",
      "description": "Execute quick start operations",
      "path": "/Volumes/AI_WORKSPACE/bill_hicks_ai/quick_start.py",
      "type": "skill",
      "category": "bill_hicks_ai"
    },
    {
      "name": "Bill Hicks Chat",
      "title": "Bill Hicks Chat",
      "description": "Interactive AI chat with Bill Hicks personality",
      "path": "/Volumes/AI_WORKSPACE/bill_hicks_ai/bill_hicks_chat.py",
      "type": "skill",
      "category": "bill_hicks_ai"
    },
    {
      "name": "Telegram Bridge",
      "title": "Telegram Bridge",
      "description": "Bridge for Telegram bot integration",
      "path": "/Volumes/AI_WORKSPACE/n8n_automation/telegram_bridge.py",
      "type": "skill",
      "category": "n8n_automation"
    },
    {
      "name": "Test Webhook",
      "title": "Test Webhook",
      "description": "Execute test webhook operations",
      "path": "/Volumes/AI_WORKSPACE/n8n_automation/test_webhook.py",
      "type": "skill",
      "category": "n8n_automation"
    },
    {
      "name": "Telegram Message Fix",
      "title": "Telegram Message Fix",
      "description": "Execute telegram message fix operations",
      "path": "/Volumes/AI_WORKSPACE/n8n_automation/telegram_message_fix.py",
      "type": "skill",
      "category": "n8n_automation"
    },
    {
      "name": "Test Telegram Fix",
      "title": "Test Telegram Fix",
      "description": "Execute test telegram fix operations",
      "path": "/Volumes/AI_WORKSPACE/n8n_automation/test_telegram_fix.py",
      "type": "skill",
      "category": "n8n_automation"
    },
    {
      "name": "Video Knowledge Loader",
      "title": "Video Knowledge Loader",
      "description": "Execute video knowledge loader operations",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis/modules/video_knowledge_loader.py",
      "type": "skill",
      "category": "modules"
    },
    {
      "name": "Video Knowledge Integrator",
      "title": "Video Knowledge Integrator",
      "description": "Execute video knowledge integrator operations",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis/modules/video_knowledge_integrator.py",
      "type": "skill",
      "category": "modules"
    }
  ],
  "agents": [
    {
      "name": "Python Expert",
      "description": "Expert Python development assistance with best practices",
      "title": "Python Expert",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Security Engineer",
      "description": "Security auditing and vulnerability assessment",
      "title": "Security Engineer",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Frontend Architect",
      "description": "Frontend design and React/Vue/Angular expertise",
      "title": "Frontend Architect",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Backend Architect",
      "description": "Backend system design and API architecture",
      "title": "Backend Architect",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Performance Engineer",
      "description": "Performance optimization and bottleneck analysis",
      "title": "Performance Engineer",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Quality Engineer",
      "description": "Testing strategies and quality assurance",
      "title": "Quality Engineer",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "DevOps Architect",
      "description": "CI/CD pipelines and infrastructure automation",
      "title": "DevOps Architect",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "System Architect",
      "description": "System design and architecture patterns",
      "title": "System Architect",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Database Expert",
      "description": "Database design and optimization",
      "title": "Database Expert",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Cloud Architect",
      "description": "Cloud infrastructure and deployment",
      "title": "Cloud Architect",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Mobile Developer",
      "description": "iOS and Android app development",
      "title": "Mobile Developer",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Data Scientist",
      "description": "Data analysis and machine learning",
      "title": "Data Scientist",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "AI/ML Engineer",
      "description": "AI model development and deployment",
      "title": "AI/ML Engineer",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Blockchain Developer",
      "description": "Blockchain and smart contract development",
      "title": "Blockchain Developer",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Game Developer",
      "description": "Game development and engine expertise",
      "title": "Game Developer",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Embedded Systems Engineer",
      "description": "IoT and embedded systems programming",
      "title": "Embedded Systems Engineer",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Network Engineer",
      "description": "Network architecture and protocols",
      "title": "Network Engineer",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "UI/UX Designer",
      "description": "User interface and experience design",
      "title": "UI/UX Designer",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Technical Writer",
      "description": "Documentation and technical writing",
      "title": "Technical Writer",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Project Manager",
      "description": "Project planning and management",
      "title": "Project Manager",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Business Analyst",
      "description": "Business requirements and analysis",
      "title": "Business Analyst",
      "type": "agent",
      "category": "AI Agents"
    },
    {
      "name": "Solution Architect",
      "description": "End-to-end solution design",
      "title": "Solution Architect",
      "type": "agent",
      "category": "AI Agents"
    }
  ],
  "workflows": [
    {
      "name": "Video Analysis",
      "title": "Video Analysis",
      "description": "Complete video analysis pipeline with transcript and frame extraction",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Image Enhancement",
      "title": "Image Enhancement",
      "description": "AI-powered image enhancement and upscaling workflow",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Telegram Integration",
      "title": "Telegram Integration",
      "description": "Telegram bot message processing and response",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Content Pipeline",
      "title": "Content Pipeline",
      "description": "Content processing and distribution pipeline",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Data Processing",
      "title": "Data Processing",
      "description": "Automated data processing workflow",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Backup Automation",
      "title": "Backup Automation",
      "description": "Scheduled backup automation",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Monitoring Workflow",
      "title": "Monitoring Workflow",
      "description": "System monitoring and alerting",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Deployment Pipeline",
      "title": "Deployment Pipeline",
      "description": "Automated deployment pipeline",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Testing Automation",
      "title": "Testing Automation",
      "description": "Automated testing workflow",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Report Generation",
      "title": "Report Generation",
      "description": "Automated report generation",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Email Workflow",
      "title": "Email Workflow",
      "description": "Email processing and automation",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Social Media Posting",
      "title": "Social Media Posting",
      "description": "Scheduled social media posting",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Web Scraping Pipeline",
      "title": "Web Scraping Pipeline",
      "description": "Web scraping and data extraction",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "File Processing",
      "title": "File Processing",
      "description": "Batch file processing workflow",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Api Integration",
      "title": "Api Integration",
      "description": "API integration workflow",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Notification System",
      "title": "Notification System",
      "description": "Multi-channel notification system",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Sync Workflow",
      "title": "Sync Workflow",
      "description": "Data synchronization workflow",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Video Analyzer Workflow",
      "title": "Video Analyzer Workflow",
      "description": "Workflow: video analyzer workflow",
      "path": "/Volumes/AI_WORKSPACE/n8n_automation/workflows/video_analyzer_workflow.json",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Image Enhancer Batch",
      "title": "Image Enhancer Batch",
      "description": "Workflow: image enhancer batch",
      "path": "/Volumes/AI_WORKSPACE/n8n_automation/workflows/image_enhancer_batch.json",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Ai Agents Orchestration",
      "title": "Ai Agents Orchestration",
      "description": "Workflow: ai agents orchestration",
      "path": "/Volumes/AI_WORKSPACE/n8n_automation/workflows/ai_agents_orchestration.json",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Master Pipeline",
      "title": "Master Pipeline",
      "description": "Workflow: master pipeline",
      "path": "/Volumes/AI_WORKSPACE/n8n_automation/workflows/master_pipeline.json",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Telegram Bot Trigger",
      "title": "Telegram Bot Trigger",
      "description": "Workflow: telegram bot trigger",
      "path": "/Volumes/AI_WORKSPACE/n8n_automation/workflows/telegram_bot_trigger.json",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "Telegram Webhook Receiver",
      "title": "Telegram Webhook Receiver",
      "description": "Workflow: telegram webhook receiver",
      "path": "/Volumes/AI_WORKSPACE/n8n_automation/workflows/telegram_webhook_receiver.json",
      "type": "workflow",
      "category": "Automation"
    },
    {
      "name": "My-Custom-Workflow",
      "title": "My-Custom-Workflow",
      "description": "Workflow: my-custom-workflow",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis/workflows/my-custom-workflow.json",
      "type": "workflow",
      "category": "Automation"
    }
  ],
  "models": [
    {
      "name": "Claude 3 Opus",
      "description": "Most capable Claude model for complex tasks",
      "title": "Claude 3 Opus",
      "type": "model",
      "category": "AI Models"
    },
    {
      "name": "Claude 3 Sonnet",
      "description": "Balanced performance and speed",
      "title": "Claude 3 Sonnet",
      "type": "model",
      "category": "AI Models"
    },
    {
      "name": "Claude 3 Haiku",
      "description": "Fast responses for simple tasks",
      "title": "Claude 3 Haiku",
      "type": "model",
      "category": "AI Models"
    },
    {
      "name": "GPT-4 Turbo",
      "description": "OpenAI's most capable model",
      "title": "GPT-4 Turbo",
      "type": "model",
      "category": "AI Models"
    },
    {
      "name": "GPT-3.5 Turbo",
      "description": "Fast and cost-effective",
      "title": "GPT-3.5 Turbo",
      "type": "model",
      "category": "AI Models"
    },
    {
      "name": "DALL-E 3",
      "description": "Advanced image generation",
      "title": "DALL-E 3",
      "type": "model",
      "category": "AI Models"
    },
    {
      "name": "Whisper",
      "description": "Speech recognition and transcription",
      "title": "Whisper",
      "type": "model",
      "category": "AI Models"
    },
    {
      "name": "Stable Diffusion XL",
      "description": "Open-source image generation",
      "title": "Stable Diffusion XL",
      "type": "model",
      "category": "AI Models"
    },
    {
      "name": "Llama 2 70B",
      "description": "Meta's large language model",
      "title": "Llama 2 70B",
      "type": "model",
      "category": "AI Models"
    },
    {
      "name": "Mistral 7B",
      "description": "Efficient open-source model",
      "title": "Mistral 7B",
      "type": "model",
      "category": "AI Models"
    }
  ],
  "scripts": [
    {
      "name": "Boot Jarvis Simple",
      "title": "Boot Jarvis Simple",
      "description": "Execute boot jarvis simple script",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis/scripts/boot_jarvis_simple.sh",
      "type": "script",
      "category": "Scripts"
    },
    {
      "name": "Deploy Production",
      "title": "Deploy Production",
      "description": "Deploy to production environment",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis/scripts/deploy_production.sh",
      "type": "script",
      "category": "Scripts"
    },
    {
      "name": "Deploy Staging",
      "title": "Deploy Staging",
      "description": "Deploy to staging environment",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis/scripts/deploy_staging.sh",
      "type": "script",
      "category": "Scripts"
    },
    {
      "name": "Deploy Staging Simple",
      "title": "Deploy Staging Simple",
      "description": "Execute deploy staging simple script",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis/scripts/deploy_staging_simple.sh",
      "type": "script",
      "category": "Scripts"
    },
    {
      "name": "Deploy V2 Production",
      "title": "Deploy V2 Production",
      "description": "Execute deploy v2 production script",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis/scripts/deploy_v2_production.sh",
      "type": "script",
      "category": "Scripts"
    },
    {
      "name": "Emergency Rollback",
      "title": "Emergency Rollback",
      "description": "Execute emergency rollback script",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis/scripts/emergency_rollback.sh",
      "type": "script",
      "category": "Scripts"
    },
    {
      "name": "Setup Claude Integration",
      "title": "Setup Claude Integration",
      "description": "Execute setup claude integration script",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis/scripts/setup_claude_integration.sh",
      "type": "script",
      "category": "Scripts"
    },
    {
      "name": "Update Claude Context",
      "title": "Update Claude Context",
      "description": "Execute update claude context script",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis/scripts/update_claude_context.sh",
      "type": "script",
      "category": "Scripts"
    },
    {
      "name": "Monitor Production",
      "title": "Monitor Production",
      "description": "Execute monitor production script",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis/scripts/monitor_production.py",
      "type": "script",
      "category": "Scripts"
    },
    {
      "name": "Create Mission Control Icon",
      "title": "Create Mission Control Icon",
      "description": "Execute create mission control icon script",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis/scripts/create_mission_control_icon.py",
      "type": "script",
      "category": "Scripts"
    },
    {
      "name": "Monitor Staging",
      "title": "Monitor Staging",
      "description": "Execute monitor staging script",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis/scripts/monitor_staging.py",
      "type": "script",
      "category": "Scripts"
    },
    {
      "name": "Vibe Coding Protocol",
      "title": "Vibe Coding Protocol",
      "description": "Execute vibe coding protocol script",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis/scripts/vibe_coding_protocol.py",
      "type": "script",
      "category": "Scripts"
    },
    {
      "name": "Start",
      "title": "Start",
      "description": "Start services",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis_command_center/start.sh",
      "type": "script",
      "category": "Scripts"
    },
    {
      "name": "Start V2",
      "title": "Start V2",
      "description": "Execute start v2 script",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis_command_center/start_v2.sh",
      "type": "script",
      "category": "Scripts"
    },
    {
      "name": "Start V3",
      "title": "Start V3",
      "description": "Execute start v3 script",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis_command_center/start_v3.sh",
      "type": "script",
      "category": "Scripts"
    },
    {
      "name": "Index Knowledge Base",
      "title": "Index Knowledge Base",
      "description": "Execute index knowledge base script",
      "path": "/Volumes/AI_WORKSPACE/CORE/jarvis_command_center/scripts/index_knowledge_base.py",
      "type": "script",
      "category": "Scripts"
    }
  ]
};


        // Global state
        let resources = {
            skills: [],
            agents: [],
            workflows: [],
            models: [],
            scripts: []
        };
        let selectedResource = null;
        let inputEditor = null;
        let terminal = null;
        let currentTab = 'skills';
        let executionStartTime = null;
        let monitoringInterval = null;

        // Initialize CodeMirror editor
        function initializeEditor() {
            const editorElement = document.getElementById('input-editor');
            inputEditor = CodeMirror(editorElement, {
                theme: 'monokai',
                lineNumbers: true,
                mode: 'python',
                value: '# Enter your code here\n# Select a resource from above to get started\n',
                lineWrapping: true
            });
        }

        // Initialize Terminal
        function initializeTerminal() {
            const term = new Terminal({
                theme: {
                    background: '#000000',
                    foreground: '#00ff00'
                },
                fontSize: 14,
                fontFamily: 'Consolas, "Courier New", monospace'
            });

            const outputElement = document.getElementById('output-terminal');
            outputElement.innerHTML = '';
            term.open(outputElement);
            terminal = term;

            terminal.writeln('\x1b[32m‚úì Jarvis Command Center Initialized\x1b[0m');
            terminal.writeln('\x1b[36m‚Üí Select a resource to begin\x1b[0m');
        }

        // Process resources data and update UI
        function processResourcesData(data) {
            if (data && data.resources) {
                resources = data.resources;

                // Update counts
                document.getElementById('skills-count').textContent = resources.skills?.length || 0;
                document.getElementById('agents-count').textContent = resources.agents?.length || 0;
                document.getElementById('workflows-count').textContent = resources.workflows?.length || 0;
                document.getElementById('models-count').textContent = resources.models?.length || 0;
                document.getElementById('scripts-count').textContent = resources.scripts?.length || 0;

                // Calculate total
                const total = (resources.skills?.length || 0) +
                            (resources.agents?.length || 0) +
                            (resources.workflows?.length || 0) +
                            (resources.models?.length || 0) +
                            (resources.scripts?.length || 0);

                // Display current tab resources
                displayResources(currentTab);

                // Update connection status
                document.getElementById('connection-status').textContent = 'Connected - ' + total + ' resources loaded';

                console.log('Resources loaded successfully:', {
                    skills: resources.skills?.length || 0,
                    agents: resources.agents?.length || 0,
                    workflows: resources.workflows?.length || 0,
                    models: resources.models?.length || 0,
                    scripts: resources.scripts?.length || 0,
                    total: total
                });
            }
        }

        // Load resources from API
        async function loadResources() {
            // First try to use embedded resources
            if (typeof EMBEDDED_RESOURCES !== 'undefined' && EMBEDDED_RESOURCES) {
                console.log('Using embedded resources data');
                processResourcesData({resources: EMBEDDED_RESOURCES});
                return;
            }

            // Fall back to API if embedded resources not available
            try {
                const response = await fetch('/api/resources/all');
                const data = await response.json();

                if (data.resources) {
                    processResourcesData(data);
                }
            } catch (error) {
                console.error('Failed to load resources:', error);
                document.getElementById('connection-status').textContent = 'Connection Error';

                // Use fallback demo data
                loadDemoResources();
            }
        }

        // Load demo resources (fallback)
        function loadDemoResources() {
            resources = {
                skills: [
                    {name: 'Video Analyzer', description: 'Analyze videos and extract insights'},
                    {name: 'Image Enhancer', description: 'Enhance image quality using AI'},
                    {name: 'Code Reviewer', description: 'Automated code review and suggestions'}
                ],
                agents: [
                    {name: 'Python Expert', description: 'Expert Python development assistance'},
                    {name: 'Frontend Architect', description: 'Frontend design and optimization'},
                    {name: 'Security Engineer', description: 'Security auditing and assessment'}
                ],
                workflows: [
                    {name: 'CI/CD Pipeline', description: 'Automated build and deployment'},
                    {name: 'Data Processing', description: 'ETL and data transformation'},
                    {name: 'Backup Automation', description: 'Scheduled backup operations'}
                ],
                models: [
                    {name: 'Claude 3 Opus', description: 'Most capable Claude model'},
                    {name: 'GPT-4 Turbo', description: 'OpenAI\'s flagship model'},
                    {name: 'Llama 2', description: 'Open source language model'}
                ],
                scripts: [
                    {name: 'Deploy Script', description: 'Deploy to production'},
                    {name: 'Test Runner', description: 'Run test suites'},
                    {name: 'Backup Script', description: 'Backup database and files'}
                ]
            };

            // Update counts
            document.getElementById('skills-count').textContent = resources.skills.length;
            document.getElementById('agents-count').textContent = resources.agents.length;
            document.getElementById('workflows-count').textContent = resources.workflows.length;
            document.getElementById('models-count').textContent = resources.models.length;
            document.getElementById('scripts-count').textContent = resources.scripts.length;

            displayResources(currentTab);
        }

        // Display resources in grid
        function displayResources(tab) {
            const grid = document.getElementById('resource-grid');
            const items = resources[tab] || [];

            grid.innerHTML = items.map((item, index) => `
                <div class="resource-card" onclick="selectResource('${tab}', ${index})">
                    <h4 class="font-semibold text-sm mb-1">${item.name || item.title}</h4>
                    <p class="text-xs text-gray-400">${item.description || ''}</p>
                </div>
            `).join('');
        }

        // Select a resource
        function selectResource(tab, index) {
            const resource = resources[tab][index];
            selectedResource = {type: tab, ...resource};

            // Update UI
            document.querySelectorAll('.resource-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.target.closest('.resource-card').classList.add('selected');

            // Update input editor with template
            const template = getResourceTemplate(tab, resource);
            inputEditor.setValue(template);

            // Update parameter panel
            document.getElementById('param-name').value = resource.name || resource.title;

            // Show resource-specific help
            updateHelpContent(resource);

            // Update output
            terminal.writeln(`\n\x1b[36m‚Üí Selected: ${resource.name || resource.title}\x1b[0m`);
        }

        // Get resource template
        function getResourceTemplate(type, resource) {
            const templates = {
                skills: `# Skill: ${resource.name}\n# ${resource.description}\n\ndef execute():\n    # Your code here\n    pass\n`,
                agents: `# Agent: ${resource.name}\n# ${resource.description}\n\nprompt = """\nYour prompt here\n"""\n`,
                workflows: `# Workflow: ${resource.name}\n# ${resource.description}\n\nsteps = [\n    # Define workflow steps\n]\n`,
                models: `# Model: ${resource.name}\n# ${resource.description}\n\ninput_text = "Your input"\n# Model will process this\n`,
                scripts: `#!/bin/bash\n# Script: ${resource.name}\n# ${resource.description}\n\n# Your script here\n`
            };

            return templates[type] || '# Resource selected\n';
        }

        // Execute resource
        async function executeResource() {
            if (!selectedResource) {
                terminal.writeln('\x1b[31m‚úó No resource selected\x1b[0m');
                return;
            }

            // Update status
            document.getElementById('execution-status').className = 'execution-status running';
            document.getElementById('execution-status').textContent = 'Running';
            document.getElementById('exec-status').textContent = 'Executing...';

            // Start monitoring
            executionStartTime = Date.now();
            startMonitoring();

            // Simulate execution
            terminal.writeln(`\n\x1b[33m‚Üí Executing ${selectedResource.name}...\x1b[0m`);

            try {
                // Make API call
                const response = await fetch('/api/execute', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        type: selectedResource.type,
                        name: selectedResource.name,
                        code: inputEditor.getValue(),
                        args: document.getElementById('param-args').value,
                        mode: document.getElementById('param-mode').value
                    })
                });

                // Stream output
                const reader = response.body?.getReader();
                if (reader) {
                    while (true) {
                        const {done, value} = await reader.read();
                        if (done) break;
                        const text = new TextDecoder().decode(value);
                        terminal.write(text);
                    }
                }

                // Success
                document.getElementById('execution-status').className = 'execution-status completed';
                document.getElementById('execution-status').textContent = 'Completed';
                terminal.writeln('\n\x1b[32m‚úì Execution completed successfully\x1b[0m');

                // Add output file
                addOutputFile(`output_${Date.now()}.txt`);
            } catch (error) {
                // Error
                document.getElementById('execution-status').className = 'execution-status failed';
                document.getElementById('execution-status').textContent = 'Failed';
                terminal.writeln(`\n\x1b[31m‚úó Error: ${error.message}\x1b[0m`);
            } finally {
                stopMonitoring();
            }
        }

        // Monitoring functions
        function startMonitoring() {
            monitoringInterval = setInterval(() => {
                const elapsed = Date.now() - executionStartTime;
                document.getElementById('exec-time').textContent = elapsed + 'ms';
                document.getElementById('memory-usage').textContent = Math.floor(Math.random() * 100 + 50) + ' MB';
            }, 100);
        }

        function stopMonitoring() {
            if (monitoringInterval) {
                clearInterval(monitoringInterval);
                document.getElementById('exec-status').textContent = 'Idle';
            }
        }

        // File management
        function addOutputFile(filename) {
            const fileList = document.getElementById('file-list');
            const destPath = document.getElementById('dest-path').value;

            const fileItem = document.createElement('div');
            fileItem.className = 'file-item';
            fileItem.innerHTML = `
                <span class="mr-2">üìÑ</span>
                <span class="flex-1">${filename}</span>
                <span class="text-xs text-gray-400">${destPath}</span>
            `;
            fileList.appendChild(fileItem);

            document.getElementById('full-path').textContent = destPath + filename;
        }

        // Settings functions
        function openSettings() {
            document.getElementById('settings-panel').classList.add('open');
        }

        function closeSettings() {
            document.getElementById('settings-panel').classList.remove('open');
        }

        // Help functions
        function showHelp() {
            document.getElementById('help-modal').classList.remove('hidden');
            updateHelpContent(selectedResource);
        }

        function closeHelp() {
            document.getElementById('help-modal').classList.add('hidden');
        }

        function updateHelpContent(resource) {
            const helpContent = document.getElementById('help-content');

            if (!resource) {
                helpContent.innerHTML = `
                    <div>
                        <h3 class="font-semibold mb-2">Getting Started</h3>
                        <p class="text-sm text-gray-300">1. Select a resource from the grid above</p>
                        <p class="text-sm text-gray-300">2. Configure parameters in the right panel</p>
                        <p class="text-sm text-gray-300">3. Write or modify code in the input window</p>
                        <p class="text-sm text-gray-300">4. Click Execute to run the resource</p>
                        <p class="text-sm text-gray-300">5. View output in the terminal below</p>
                    </div>
                `;
            } else {
                helpContent.innerHTML = `
                    <div>
                        <h3 class="font-semibold mb-2">${resource.name || resource.title}</h3>
                        <p class="text-sm text-gray-300 mb-4">${resource.description}</p>

                        <h4 class="font-semibold mb-1">Usage:</h4>
                        <pre class="bg-black p-2 rounded text-xs overflow-x-auto">
${getResourceExample(resource.type, resource)}
                        </pre>

                        <h4 class="font-semibold mb-1 mt-4">Parameters:</h4>
                        <ul class="text-sm text-gray-300 space-y-1">
                            <li>‚Ä¢ <strong>Name:</strong> Resource identifier</li>
                            <li>‚Ä¢ <strong>Arguments:</strong> Additional parameters (optional)</li>
                            <li>‚Ä¢ <strong>Mode:</strong> Execution mode (sync/async/background)</li>
                        </ul>

                        <h4 class="font-semibold mb-1 mt-4">Output:</h4>
                        <p class="text-sm text-gray-300">Results will be saved to: <code class="bg-black px-1 rounded">${document.getElementById('dest-path').value}</code></p>
                    </div>
                `;
            }
        }

        function getResourceExample(type, resource) {
            const examples = {
                skills: `skill.execute("${resource.name}", {
    input: "your_input_data",
    options: {
        verbose: true
    }
})`,
                agents: `agent.invoke("${resource.name}", {
    prompt: "Your question or task",
    context: {}
})`,
                workflows: `workflow.start("${resource.name}", {
    steps: ["step1", "step2"],
    config: {}
})`,
                models: `model.generate("${resource.name}", {
    input: "Your prompt",
    max_tokens: 1000
})`,
                scripts: `./scripts/${resource.name}.sh --arg1 value1`
            };

            return examples[type] || '# Example code';
        }

        // Clear output
        function clearOutput() {
            terminal.clear();
            terminal.writeln('\x1b[32m‚úì Output cleared\x1b[0m');
        }

        // Tab switching
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', (e) => {
                // Update active tab
                document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
                e.target.classList.add('active');

                // Display resources
                currentTab = e.target.dataset.tab;
                displayResources(currentTab);
            });
        });

        // Update destination path
        document.getElementById('dest-path').addEventListener('input', (e) => {
            document.getElementById('full-path').textContent = e.target.value;
        });

        // Initialize on load
        window.addEventListener('DOMContentLoaded', () => {
            initializeEditor();
            initializeTerminal();
            loadResources();

            // Auto-refresh resources every 30 seconds
            setInterval(loadResources, 30000);
        });
    </script>
</body>
</html>