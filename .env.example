# Jarvis Command Center V2 - Security Configuration
# Copy this file to .env and customize values

# ======================
# Security Settings
# ======================

# Secret key for JWT token signing (CHANGE THIS IN PRODUCTION)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JARVIS_SECRET_KEY=CHANGE_THIS_TO_RANDOM_SECRET_KEY

# JWT Algorithm
JARVIS_ALGORITHM=HS256

# Token expiration (minutes)
TOKEN_EXPIRE_MINUTES=30

# ======================
# CORS Configuration
# ======================

# Allowed origins (comma-separated)
# Production example: https://jarvis.example.com,https://app.example.com
ALLOWED_ORIGINS=http://localhost:8000,http://127.0.0.1:8000

# ======================
# Rate Limiting
# ======================

# Command execution rate limit
RATE_LIMIT_COMMANDS=10/minute

# Agent execution rate limit
RATE_LIMIT_AGENTS=20/hour

# Workflow trigger rate limit
RATE_LIMIT_WORKFLOWS=30/hour

# Search rate limit
RATE_LIMIT_SEARCH=60/minute

# ======================
# External Services
# ======================

# n8n Webhook Configuration
N8N_WEBHOOK_BASE=https://localhost:5678
N8N_WEBHOOK_TIMEOUT=10
N8N_VERIFY_SSL=true

# ======================
# Database (Optional - for production)
# ======================

# PostgreSQL connection
DATABASE_URL=postgresql://user:password@localhost/jarvis

# Redis for session management and rate limiting
REDIS_URL=redis://localhost:6379/0

# ======================
# SSL/TLS Configuration
# ======================

# SSL certificate paths
SSL_KEYFILE=/path/to/key.pem
SSL_CERTFILE=/path/to/cert.pem

# ======================
# Logging
# ======================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path
LOG_FILE=/var/log/jarvis/security.log

# ======================
# Security Features
# ======================

# Enable/disable security features
ENABLE_AUTHENTICATION=true
ENABLE_RATE_LIMITING=true
ENABLE_AUDIT_LOGGING=true
ENABLE_REQUEST_VALIDATION=true

# ======================
# Development Settings (DO NOT USE IN PRODUCTION)
# ======================

# Development mode (disables some security features)
# NEVER set to true in production
DEV_MODE=false

# Allow insecure connections (HTTP instead of HTTPS)
# NEVER set to true in production
ALLOW_INSECURE=false
